# Compose + ViewModel 单项数据流开发架构知识库
## 名词解释
- **ViewModel**: 负责管理数据状态
- **Repository**: 数据来源，负责网络数据和本地数据获取
- **Activity**: 一个界面的入口，Android 四大组件中的 Activity
- **Screen**: 一个 Compose 函数，Activity 设置界面时调用的入口函数
- **View**: 被 Screen 组合，是构成用户界面的一个个小组合(Compose)函数

## 架构目标
- **数据驱动**：界面由数据状态变化驱动 UI 更新
- **边界清晰**：各层职责明确，避免逻辑混杂
- **单向数据流**：数据只能从源头单向流动，避免共享数据导致的时序问题
- **单项事件流**: 事件只能从

## 核心分层结构

### Activity 层
**职责**：
- 处理页面跳转协议
- 初始化 ViewModel
- 加载对应的 Entry Screen

**原则**：
- 仅作为界面载体，不包含业务逻辑
- 一个 Activity 对应一个 Entry Screen（特殊情况使用 NavController）

### ViewModel 层
**职责**：
- 作为数据源的唯一持有者
- 从远程/本地获取数据
- 提供数据给 Entry Screen

**原则**：
- 管理页面级状态数据
- 处理业务逻辑和异步操作

### Entry Screen（入口可组合函数）
**职责**：
- 组装子 View 组件
- 通过 ViewModel 中转事件
- 分发数据给子组件

**原则**：
- 使用 `@Composable` 函数实现
- 接收 ViewModel 作为参数
- 不处理具体业务逻辑

### View（非入口可组合函数）
**职责**：
- 渲染 UI 界面
- 定义用户交互事件

**原则**：
- 构造参数不能是 ViewModel
- 数据仅从参数获取，通过 listener 传递事件
- 保持纯函数特性（快速、幂等、无副作用）

## 关键设计原则

### 单向数据流
